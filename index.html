<!DOCTYPE html>
<html lang="it">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sorpresa per Alessia</title>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&family=Inter:wght@300;400;500&display=swap");

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Inter", sans-serif;
        overflow-x: hidden;
      }

      /* Wes Anderson Color Palette */
      :root {
        --cream: #f7e7ce;
        --dusty-pink: #f4a6a6;
        --sage-green: #a8ccab;
        --powder-blue: #b8d4e3;
        --coral: #ff8a80;
        --lavender: #d1c4e9;
        --warm-yellow: #ffe082;
        --soft-orange: #ffab91;
      }

      .page {
        display: none;
        min-height: 100vh;
        position: relative;
      }

      .page.active {
        display: block;
      }

      /* SECURITY: Page 2 is completely hidden by default */
      #page2 {
        display: none !important;
        visibility: hidden !important;
        opacity: 0 !important;
        position: absolute !important;
        top: -9999px !important;
        left: -9999px !important;
        pointer-events: none !important;
      }

      /* Only when authorized, page 2 becomes accessible */
      #page2.authorized {
        display: flex !important;
        visibility: visible !important;
        opacity: 1 !important;
        position: relative !important;
        top: auto !important;
        left: auto !important;
        pointer-events: auto !important;
      }

      /* PAGINA 1 - AEROPORTO COMPLETO */
      #page1 {
        background: linear-gradient(
          to bottom,
          var(--powder-blue) 0%,
          var(--cream) 40%,
          var(--sage-green) 100%
        );
        position: relative;
        overflow: hidden;
        min-height: 100vh;
      }

      /* Sfondo cielo con dettagli */
      .sky-background {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 60%;
        background: linear-gradient(
          to bottom,
          #87ceeb 0%,
          #b8d4e3 50%,
          #f7e7ce 100%
        );
        z-index: 1;
      }

      /* Nuvole multiple e realistiche */
      .cloud {
        position: absolute;
        opacity: 0.8;
        animation: float 25s ease-in-out infinite;
      }

      .cloud1 {
        top: 8%;
        left: 10%;
        animation-delay: 0s;
      }
      .cloud2 {
        top: 12%;
        right: 20%;
        animation-delay: 5s;
      }
      .cloud3 {
        top: 18%;
        left: 60%;
        animation-delay: 10s;
      }
      .cloud4 {
        top: 15%;
        left: 80%;
        animation-delay: 15s;
      }
      .cloud5 {
        top: 25%;
        left: 30%;
        animation-delay: 20s;
      }

      /* Sole */
      .sun {
        position: absolute;
        top: 10%;
        right: 15%;
        width: 80px;
        height: 80px;
        background: radial-gradient(circle, #ffe082 30%, #ffab91 70%);
        border-radius: 50%;
        animation: glow 4s ease-in-out infinite;
        z-index: 2;
      }

      /* Pista di atterraggio principale */
      .runway {
        position: absolute;
        bottom: 20%;
        left: 0;
        width: 100%;
        height: 80px;
        background: repeating-linear-gradient(
          90deg,
          #666 0px,
          #666 20px,
          #888 20px,
          #888 40px
        );
        z-index: 3;
      }

      .runway::before {
        content: "";
        position: absolute;
        top: 50%;
        left: 0;
        width: 100%;
        height: 4px;
        background: repeating-linear-gradient(
          90deg,
          white 0px,
          white 30px,
          transparent 30px,
          transparent 60px
        );
        transform: translateY(-50%);
      }

      /* Terminal principale */
      .terminal {
        position: absolute;
        bottom: 30%;
        left: 15%;
        width: 300px;
        height: 120px;
        z-index: 5;
      }

      /* Torre di controllo dettagliata */
      .control-tower {
        position: absolute;
        right: 20%;
        bottom: 25%;
        width: 120px;
        height: 220px;
        z-index: 6;
      }

      /* Aerei in movimento */
      .airplane {
        position: absolute;
        z-index: 4;
        animation: fly 20s linear infinite;
      }

      .airplane-main {
        top: 35%;
        width: 120px;
        height: 60px;
        animation-duration: 25s;
      }

      .airplane-small {
        top: 20%;
        width: 80px;
        height: 40px;
        animation-duration: 30s;
        animation-delay: 10s;
      }

      /* Veicoli di servizio */
      .service-vehicle {
        position: absolute;
        bottom: 22%;
        width: 60px;
        height: 30px;
        animation: drive 15s linear infinite;
      }

      .vehicle1 {
        animation-delay: 0s;
      }
      .vehicle2 {
        animation-delay: 7s;
      }

      /* Contenuto principale con design moderno - RIPRISTINATO */
      .main-content {
        position: absolute;
        top: 41%;
        left: 48%;
        transform: translate(-50%, -50%);
        text-align: center;
        z-index: 10;
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(10px);
        padding: 50px 40px;
        border-radius: 30px;
        box-shadow: 0 25px 60px rgba(0, 0, 0, 0.15);
        border: 2px solid rgba(255, 255, 255, 0.3);
        max-width: 90vw;
        width: 600px;
      }

      .main-title {
        font-family: "Montserrat", sans-serif;
        font-size: 2.8rem;
        font-weight: 600;
        color: #2c3e50;
        margin-bottom: 25px;
        letter-spacing: -0.5px;
        background: linear-gradient(135deg, var(--dusty-pink), var(--coral));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      .subtitle {
        font-family: "Inter", sans-serif;
        font-size: 1.3rem;
        color: #5d6d7e;
        margin-bottom: 40px;
        font-weight: 400;
        line-height: 1.5;
      }

      .face-button {
        width: 180px;
        height: 180px;
        border-radius: 50%;
        border: none;
        cursor: pointer;
        background: linear-gradient(
          135deg,
          var(--dusty-pink),
          var(--coral),
          var(--warm-yellow)
        );
        animation: pulse 3s ease-in-out infinite;
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 4rem;
        margin: 0 auto;
        box-shadow: 0 15px 35px rgba(244, 166, 166, 0.4);
        position: relative;
        overflow: hidden;
      }

      /* NUOVA REGOLA: Stile per l'immagine nel pulsante */
      .face-button img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        border-radius: 50%;
      }

      .face-button::before {
        content: "";
        position: absolute;
        top: -50%;
        left: -50%;
        width: 200%;
        height: 200%;
        background: linear-gradient(
          45deg,
          transparent,
          rgba(255, 255, 255, 0.3),
          transparent
        );
        animation: shine 3s ease-in-out infinite;
      }

      .face-button:hover {
        transform: scale(1.05);
        box-shadow: 0 20px 45px rgba(244, 166, 166, 0.6);
      }

      /* PAGINA 2 - VIDEO */
      #page2.authorized {
        background: linear-gradient(
          135deg,
          var(--lavender) 0%,
          var(--powder-blue) 50%,
          var(--sage-green) 100%
        );
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding: 20px;
        min-height: 100vh;
      }

      .video-title {
        font-family: "Montserrat", sans-serif;
        font-size: 2.5rem;
        font-weight: 500;
        color: white;
        margin-bottom: 40px;
        text-align: center;
        text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.3);
        letter-spacing: -0.3px;
      }

      .video-container {
        background: white;
        padding: 25px;
        border-radius: 25px;
        box-shadow: 0 30px 70px rgba(0, 0, 0, 0.2);
        max-width: 900px;
        width: 100%;
        backdrop-filter: blur(10px);
      }

      video {
        width: 100%;
        height: auto;
        border-radius: 20px;
      }

      /* Animazioni */
      @keyframes float {
        0%,
        100% {
          transform: translateY(0px) translateX(0px);
        }
        25% {
          transform: translateY(-15px) translateX(5px);
        }
        50% {
          transform: translateY(-10px) translateX(-5px);
        }
        75% {
          transform: translateY(-20px) translateX(3px);
        }
      }

      @keyframes fly {
        0% {
          left: -150px;
        }
        100% {
          left: calc(100% + 150px);
        }
      }

      @keyframes drive {
        0% {
          left: -80px;
        }
        100% {
          left: calc(100% + 80px);
        }
      }

      @keyframes pulse {
        0%,
        100% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.03);
        }
      }

      @keyframes glow {
        0%,
        100% {
          box-shadow: 0 0 20px rgba(255, 224, 130, 0.5);
        }
        50% {
          box-shadow: 0 0 35px rgba(255, 224, 130, 0.8);
        }
      }

      @keyframes shine {
        0% {
          transform: translateX(-100%) translateY(-100%) rotate(45deg);
        }
        50% {
          transform: translateX(100%) translateY(100%) rotate(45deg);
        }
        100% {
          transform: translateX(-100%) translateY(-100%) rotate(45deg);
        }
      }

      /* Ottimizzazione Mobile */
      @media (max-width: 768px) {
        .main-content {
          padding: 40px 25px;
          margin: 20px;
          border-radius: 25px;
          width: calc(100% - 40px);
        }

        .main-title {
          font-size: 2.2rem;
          line-height: 1.2;
          margin-bottom: 20px;
        }

        .subtitle {
          font-size: 1.1rem;
          margin-bottom: 35px;
          line-height: 1.4;
        }

        .face-button {
          width: 150px;
          height: 150px;
          font-size: 3.5rem;
        }

        .video-title {
          font-size: 2rem;
          margin-bottom: 30px;
          padding: 0 20px;
          line-height: 1.3;
        }

        .video-container {
          margin: 0 15px;
          padding: 20px;
          border-radius: 20px;
        }

        /* Ridimensiona elementi aeroporto */
        .terminal {
          width: 200px;
          height: 80px;
          bottom: 35%;
        }
        .control-tower {
          width: 90px;
          height: 160px;
          right: 10%;
        }
        .airplane-main {
          width: 90px;
          height: 45px;
        }
        .airplane-small {
          width: 60px;
          height: 30px;
        }
        .sun {
          width: 60px;
          height: 60px;
          top: 8%;
          right: 10%;
        }
      }

      /* ADATTAMENTI PER SAMSUNG A54 e schermi simili */
      @media (max-width: 480px) {
        .main-content {
          padding: 30px 20px;
          margin: 10px;
          width: 90vw; /* Usa la larghezza del viewport */
        }

        .main-title {
          font-size: 1.8rem;
          margin-bottom: 15px;
        }

        .subtitle {
          font-size: 1rem;
          margin-bottom: 30px;
        }

        .face-button {
          width: 130px;
          height: 130px;
          font-size: 3rem;
        }

        /* Adattamenti grafiche aeroporto per riempire lo schermo */
        .sky-background {
          height: 50vh; /* Adatta altezza per schermi verticali */
        }

        .runway {
          bottom: 10vh; /* Posiziona relativo all'altezza del viewport */
          height: 10vh;
        }

        .terminal {
          width: 50vw; /* Usa la larghezza del viewport per scalare */
          height: auto;
          bottom: 18vh;
          left: 5vw;
        }

        .control-tower {
          width: 25vw;
          height: auto;
          bottom: 15vh;
          right: 5vw;
        }

        .airplane-main {
          width: 30vw;
          height: auto;
          top: 25%;
        }

        .airplane-small {
          width: 22vw;
          height: auto;
          top: 18%;
        }

        .sun {
          width: 15vw;
          height: 15vw;
          top: 5vh;
          right: 10vw;
        }

        /* Adattamenti centratura pagina Video */
        #page2 {
          padding: 20px; /* Padding uniforme */
        }

        .video-title {
          font-size: 1.7rem;
          margin-bottom: 25px;
          padding: 0 15px;
        }

        .video-container {
          margin: 0;
          padding: 15px;
          width: 100%;
        }
      }
    </style>
  </head>
  <body>
    <div id="page1" class="page active">
      <div class="sky-background"></div>

      <div class="sun"></div>

      <div class="cloud cloud1">
        <svg width="120" height="70" viewBox="0 0 120 70">
          <ellipse cx="30" cy="45" rx="25" ry="18" fill="white" opacity="0.9" />
          <ellipse cx="60" cy="35" rx="35" ry="22" fill="white" opacity="0.9" />
          <ellipse cx="90" cy="45" rx="25" ry="18" fill="white" opacity="0.9" />
        </svg>
      </div>
      <div class="cloud cloud2">
        <svg width="100" height="60" viewBox="0 0 100 60">
          <ellipse cx="25" cy="40" rx="20" ry="15" fill="white" opacity="0.8" />
          <ellipse cx="50" cy="30" rx="30" ry="20" fill="white" opacity="0.8" />
          <ellipse cx="75" cy="40" rx="20" ry="15" fill="white" opacity="0.8" />
        </svg>
      </div>
      <div class="cloud cloud3">
        <svg width="110" height="65" viewBox="0 0 110 65">
          <ellipse
            cx="28"
            cy="42"
            rx="23"
            ry="17"
            fill="white"
            opacity="0.85"
          />
          <ellipse
            cx="55"
            cy="32"
            rx="32"
            ry="21"
            fill="white"
            opacity="0.85"
          />
          <ellipse
            cx="82"
            cy="42"
            rx="23"
            ry="17"
            fill="white"
            opacity="0.85"
          />
        </svg>
      </div>
      <div class="cloud cloud4">
        <svg width="90" height="55" viewBox="0 0 90 55">
          <ellipse
            cx="22"
            cy="37"
            rx="18"
            ry="14"
            fill="white"
            opacity="0.75"
          />
          <ellipse
            cx="45"
            cy="28"
            rx="28"
            ry="18"
            fill="white"
            opacity="0.75"
          />
          <ellipse
            cx="68"
            cy="37"
            rx="18"
            ry="14"
            fill="white"
            opacity="0.75"
          />
        </svg>
      </div>
      <div class="cloud cloud5">
        <svg width="130" height="75" viewBox="0 0 130 75">
          <ellipse cx="32" cy="48" rx="27" ry="20" fill="white" opacity="0.9" />
          <ellipse cx="65" cy="38" rx="37" ry="24" fill="white" opacity="0.9" />
          <ellipse cx="98" cy="48" rx="27" ry="20" fill="white" opacity="0.9" />
        </svg>
      </div>

      <div class="runway"></div>

      <div class="terminal">
        <svg width="300" height="120" viewBox="0 0 300 120">
          <rect
            x="0"
            y="40"
            width="300"
            height="80"
            fill="#F4A6A6"
            stroke="#E8989B"
            stroke-width="2"
          />
          <polygon points="0,40 150,10 300,40" fill="#A8CCAB" />
          <rect x="30" y="60" width="20" height="25" fill="#B8D4E3" />
          <rect x="70" y="60" width="20" height="25" fill="#B8D4E3" />
          <rect x="110" y="60" width="20" height="25" fill="#B8D4E3" />
          <rect x="150" y="60" width="20" height="25" fill="#B8D4E3" />
          <rect x="190" y="60" width="20" height="25" fill="#B8D4E3" />
          <rect x="230" y="60" width="20" height="25" fill="#B8D4E3" />
          <rect x="270" y="60" width="20" height="25" fill="#B8D4E3" />
          <rect x="130" y="90" width="40" height="30" fill="#FFE082" />
        </svg>
      </div>

      <div class="control-tower">
        <svg width="120" height="220" viewBox="0 0 120 220">
          <rect
            x="25"
            y="120"
            width="70"
            height="100"
            fill="#F4A6A6"
            stroke="#E8989B"
            stroke-width="2"
          />
          <rect
            x="15"
            y="50"
            width="90"
            height="70"
            fill="#A8CCAB"
            stroke="#9BB896"
            stroke-width="2"
          />
          <rect x="25" y="65" width="15" height="15" fill="#B8D4E3" />
          <rect x="45" y="65" width="15" height="15" fill="#B8D4E3" />
          <rect x="65" y="65" width="15" height="15" fill="#B8D4E3" />
          <rect x="85" y="65" width="15" height="15" fill="#B8D4E3" />
          <rect x="25" y="85" width="15" height="15" fill="#B8D4E3" />
          <rect x="45" y="85" width="15" height="15" fill="#B8D4E3" />
          <rect x="65" y="85" width="15" height="15" fill="#B8D4E3" />
          <rect x="85" y="85" width="15" height="15" fill="#B8D4E3" />
          <line
            x1="60"
            y1="50"
            x2="60"
            y2="15"
            stroke="#2C3E50"
            stroke-width="3"
          />
          <circle cx="60" cy="15" r="8" fill="#FF8A80" />
          <circle
            cx="60"
            cy="25"
            r="12"
            fill="none"
            stroke="#2C3E50"
            stroke-width="2"
          />
          <line
            x1="60"
            y1="25"
            x2="72"
            y2="25"
            stroke="#FF8A80"
            stroke-width="3"
          />
        </svg>
      </div>

      <div class="airplane airplane-main">
        <svg width="120" height="60" viewBox="0 0 120 60">
          <ellipse cx="60" cy="30" rx="55" ry="12" fill="#B8D4E3" />
          <ellipse cx="45" cy="30" rx="25" ry="6" fill="#A8CCAB" />
          <ellipse cx="75" cy="30" rx="15" ry="4" fill="#A8CCAB" />
          <polygon points="5,30 25,20 25,40" fill="#F4A6A6" />
          <polygon points="95,22 115,15 115,45 95,38" fill="#F4A6A6" />
          <circle cx="70" cy="30" r="3" fill="#FFE082" />
          <circle cx="80" cy="30" r="3" fill="#FFE082" />
          <circle cx="90" cy="30" r="3" fill="#FFE082" />
        </svg>
      </div>

      <div class="airplane airplane-small">
        <svg width="80" height="40" viewBox="0 0 80 40">
          <ellipse cx="40" cy="20" rx="35" ry="8" fill="#D1C4E9" />
          <polygon points="5,20 20,15 20,25" fill="#FFAB91" />
          <polygon points="65,17 75,12 75,28 65,23" fill="#FFAB91" />
          <circle cx="50" cy="20" r="2" fill="#FFE082" />
          <circle cx="58" cy="20" r="2" fill="#FFE082" />
        </svg>
      </div>

      <div class="service-vehicle vehicle1">
        <svg width="60" height="30" viewBox="0 0 60 30">
          <rect x="5" y="15" width="50" height="10" fill="#FFE082" />
          <circle cx="15" cy="27" r="4" fill="#2C3E50" />
          <circle cx="45" cy="27" r="4" fill="#2C3E50" />
          <rect x="10" y="10" width="15" height="8" fill="#FF8A80" />
        </svg>
      </div>

      <div class="service-vehicle vehicle2">
        <svg width="60" height="30" viewBox="0 0 60 30">
          <rect x="5" y="15" width="50" height="10" fill="#A8CCAB" />
          <circle cx="15" cy="27" r="4" fill="#2C3E50" />
          <circle cx="45" cy="27" r="4" fill="#2C3E50" />
          <rect x="35" y="8" width="20" height="10" fill="#F4A6A6" />
        </svg>
      </div>

      <div class="main-content">
        <h1 class="main-title">
          Ciao Alessia, pronta a scoprire la destinazione finale?
        </h1>
        <p class="subtitle">Clicca sulla mia faccia per scoprirlo</p>
        <button class="face-button" onclick="goToPage2()">
          <img src="media\face.png" alt="Descrizione dell'immagine" />
        </button>
      </div>
    </div>

    <div id="page2" class="page">
      <h2 class="video-title">Goditi il video... e la destinazione</h2>
      <div class="video-container">
        <video id="surpriseVideo" controls>
          <source src="media\video.mp4" type="video/mp4" />
          Il tuo browser non supporta il tag video.
        </video>
      </div>
    </div>

    <script>
      // Security system: Track if user has legitimately accessed page 2
      let accessAuthorized = false;
      let accessToken = null;

      // Generate a unique token when the page loads
      function generateAccessToken() {
        return (
          Math.random().toString(36).substring(2) + Date.now().toString(36)
        );
      }

      // Initialize security token
      window.addEventListener("load", function () {
        accessToken = generateAccessToken();
      });

      // Secure function to authorize page 2 access
      function authorizeAccess() {
        if (!accessToken) return false;

        // Create a time-based verification
        const timestamp = Date.now();
        const verification = btoa(accessToken + timestamp);

        // Mark access as authorized
        accessAuthorized = true;

        // Add the authorized class to enable page 2
        const page2 = document.getElementById("page2");
        page2.classList.add("authorized");

        return verification;
      }

      // Enhanced security check function
      function verifyAccess() {
        // Check multiple security conditions
        if (!accessAuthorized) return false;
        if (!accessToken) return false;
        if (!document.getElementById("page2").classList.contains("authorized"))
          return false;

        return true;
      }

      // Secure function to transition to page 2
      function goToPage2() {
        // First, authorize access through the security system
        const verification = authorizeAccess();

        if (!verification || !verifyAccess()) {
          console.log("Access denied: Security verification failed");
          return;
        }

        // Proceed with the transition
        const page1 = document.getElementById("page1");
        const page2 = document.getElementById("page2");

        // Add smooth transition
        page1.style.transition = "opacity 0.8s ease-out";
        page1.style.opacity = "0";

        setTimeout(() => {
          // Double-check authorization before proceeding
          if (!verifyAccess()) {
            console.log("Access denied: Secondary verification failed");
            return;
          }

          page1.classList.remove("active");
          page2.classList.add("active");

          // Aggiunto per risolvere il problema dello scroll
          window.scrollTo(0, 0);

          // Start video automatically
          const video = document.getElementById("surpriseVideo");
          if (video) {
            video.play().catch((e) => {
              console.log(
                "Autoplay blocked by browser. User will need to click play."
              );
            });
          }
        }, 800);
      }

      // Security monitor: Continuously verify access
      setInterval(function () {
        const page2 = document.getElementById("page2");

        // If page 2 is active but access is not authorized, hide it
        if (page2.classList.contains("active") && !verifyAccess()) {
          console.log("Unauthorized access detected - securing page");
          page2.classList.remove("active", "authorized");
          document.getElementById("page1").classList.add("active");
          accessAuthorized = false;
        }
      }, 1000);

      // Prevent manual DOM manipulation
      const observer = new MutationObserver(function (mutations) {
        mutations.forEach(function (mutation) {
          if (
            mutation.type === "attributes" &&
            mutation.attributeName === "class"
          ) {
            const target = mutation.target;
            if (target.id === "page2" && !verifyAccess()) {
              // Someone is trying to manually add classes - block it
              target.classList.remove("active", "authorized");
              console.log("Blocked unauthorized DOM manipulation");
            }
          }
        });
      });

      // Start monitoring for unauthorized changes
      observer.observe(document.getElementById("page2"), {
        attributes: true,
        attributeFilter: ["class"],
      });

      // Block keyboard shortcuts that might bypass security
      document.addEventListener("keydown", function (e) {
        // Block F12, Ctrl+Shift+I, Ctrl+U, etc.
        if (
          e.key === "F12" ||
          (e.ctrlKey && e.shiftKey && e.key === "I") ||
          (e.ctrlKey && e.key === "u")
        ) {
          e.preventDefault();
        }
      });

      // Handle video errors
      document
        .getElementById("surpriseVideo")
        .addEventListener("error", function () {
          if (verifyAccess()) {
            alert(
              "Errore nel caricamento del video. Assicurati che il file video.mp4 sia presente nella cartella."
            );
          }
        });

      // Smooth page load animation
      window.addEventListener("load", function () {
        document.getElementById("page1").style.opacity = "0";
        document.getElementById("page1").style.transition =
          "opacity 1s ease-in";

        setTimeout(() => {
          document.getElementById("page1").style.opacity = "1";
        }, 100);
      });
    </script>
  </body>
</html>
